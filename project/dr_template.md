# Infrastructure

## AWS Zones
Identify your zones here

## Servers and Clusters

### Table 1.1 Summary
| Asset      | Purpose           | Size                                                                   | Qty                                                             | DR                                                                                                           |
|------------|-------------------|------------------------------------------------------------------------|-----------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------|
| Asset name | Brief description | AWS size eg. t3.micro (if applicable, not all assets will have a size) | Number of nodes/replicas or just how many of a particular asset | Identify if this asset is deployed to DR, replicated, created in multiple locations or just stored elsewhere |

### Descriptions
More detailed descriptions of each asset identified above.

## DR Plan
### Pre-Steps:
List steps you would perform to setup the infrastructure in the other region. It doesn't have to be super detailed, but high-level should suffice.

## Steps:
You won't actually perform these steps, but write out what you would do to "fail-over" your application and database cluster to the other region. Think about all the pieces that were setup and how you would use those in the other region


| # Infrastructure                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                     |                                                                          |                                                                   |                                                                                                                |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------|--------------------------------------------------------------------------|-------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------|
| ## AWS Zones                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |                     |                                                                          |                                                                   |                                                                                                                |
| Identify your zones here                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |                     |                                                                          |                                                                   |                                                                                                                |
| us-east-2a                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |                     |                                                                          |                                                                   |                                                                                                                |
| ## Servers and Clusters                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |                     |                                                                          |                                                                   |                                                                                                                |
|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                     |                                                                          |                                                                   |                                                                                                                |
| ### Table 1.1 Summary                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |                     |                                                                          |                                                                   |                                                                                                                |
| Asset                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Purpose             | Size                                                                     | Qty                                                               | DR                                                                                                             |
| ------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | ------------------- | ------------------------------------------------------------------------ | ----------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------- |
| Asset name                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Brief description   | AWS size eg. t3.micro (if applicable, not all assets will have a size)   | Number of nodes/replicas or just how many of a particular asset   | Identify if this asset is deployed to DR, replicated, created in multiple locations or just stored elsewhere   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                     |                                                                          |                                                                   |                                                                                                                |
| ### Descriptions                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                     |                                                                          |                                                                   |                                                                                                                |
| 1 EC2 instance running the website                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |                     |                                                                          |                                                                   |                                                                                                                |
| Custom AMI image                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                     |                                                                          |                                                                   |                                                                                                                |
| SSH keys for administering the EC2 instances                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |                     |                                                                          |                                                                   |                                                                                                                |
| GitHub repo for storing the Terraform code                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |                     |                                                                          |                                                                   |                                                                                                                |
| Backend database running on 1-node Amazon RDS cluster for the website                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |                     |                                                                          |                                                                   |                                                                                                                |
| Database backups daily and stored in S3 for recovery                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                     |                                                                          |                                                                   |                                                                                                                |
| 1-node EKS cluster for monitoring stack                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |                     |                                                                          |                                                                   |                                                                                                                |
| Monitoring platform (Grafana and Prometheus) for the web application                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                     |                                                                          |                                                                   |                                                                                                                |
| More detailed descriptions of each asset identified above.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |                     |                                                                          |                                                                   |                                                                                                                |
|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                     |                                                                          |                                                                   |                                                                                                                |
| ## DR Plan                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |                     |                                                                          |                                                                   |                                                                                                                |
|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                     |                                                                          |                                                                   |                                                                                                                |
|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                     |                                                                          |                                                                   |                                                                                                                |
| ### Pre-Steps:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |                     |                                                                          |                                                                   |                                                                                                                |
| List steps you would perform to setup the infrastructure in the other region. It doesn't have to be super detailed, but high-level should suffice.                                                                                                                                                                                                                                                                                                                                                                                                                                      |                     |                                                                          |                                                                   |                                                                                                                |
| Ensure the infrastructure is set up in the current region is HA
	- Update VPC with multiple availability zones
	- Increase number of EC2 instances for the website and API to 3 (best). Make sure that they are spread across multiple availability zones
	- Create cloud load balancer (LB) and attach EC2 instances to this LB
	- Point DNS to the LB
	- Instance number of nodes for EKS cluster used for monitoring to 3 (best) across different zones
	- Increase number of nodes for SQL cluster to 3 (best) across multiple zones
	
Replicate the infrastructure to other region |                     |                                                                          |                                                                   |                                                                                                                |
| ## Steps:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |                     |                                                                          |                                                                   |                                                                                                                |
| 	- Point DNS to the LB in another region
Promote the replication database to be primary                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |                     |                                                                          |                                                                   |                                                                                                                |
| You won't actually perform these steps, but write out what you would do to "fail-over" your application and database cluster to the other region. Think about all the pieces that were setup and how you would use those in the other region                                                                                                                                                                                                                                                                                                                                            |                     |                                                                          |                                                                   |                                                                                                                |
